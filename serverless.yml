# "service" is the name of this project. This will also be added to your AWS resource names.
service: rss-feed-filtered-by-author

provider:
  name: aws
  runtime: nodejs24.x
  # Uncomment to easily set up a custom domain. Read the docs for more details:
  # https://www.serverless.com/framework/docs/providers/aws/guide/domains
  # domain: api.example.com
  environment:
    RSS_FEED_URL: ${ssm:/rss-feed-filtered-by-author/rss-feed-url}
    AUTHOR_WHITELIST: ${ssm:/rss-feed-filtered-by-author/author-whitelist, ""}
    AUTHOR_BLACKLIST: ${ssm:/rss-feed-filtered-by-author/author-blacklist, ""}

functions:
  feed:
    handler: handler.rssFeed
    events:
      - httpApi:
          path: /feed
          method: get
